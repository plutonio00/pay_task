В данном разделе описана только установка проекта.

С условием задачи и комментариями к решению можно ознакомиться здесь: https://github.com/plutonio00/pay_task/wiki

## Установка

Для развёртывания проекта в UNIX-подобных ОС в проекте предусмотрен скрипт на bash. Также необходимо наличие docker, docker-compose и root-прав.

Чтобы запустить проект, необходимо выполнить в консоли следующие действия:

1. `cd /path/to/project`
2. `sudo chmod +x init_project.sh`
3. `./init_project.sh`

В результате: 
1. Будут созданы файлы env для docker и конфигов Yii2
2. В файл hosts будет добавлена запись с хостом проекта
3. Будут собраны и запущены docker-контейнеры
4. Установлены зависимости с помощью composer
5. Накатятся миграции
6. Накатятся rbac-миграции
7. Инициализируются rbac-роли для пользователей
8. Накатятся фикстуры
9. Случайным образом будут распределены роли для пользователей
10. Будет создана cron-задача для выполнения переводов (функционал задачи)
11. Права на все файлы проекта будут предоставлены группе www-data
12. Права на папку runtime будут изменены на 777

Кроме того, при сборке docker-контейнера для mysql будут автоматически созданы база данных для проекта, пользователь с правами на нее, изменен root пароль для mysql.

**Внимание! Чтобы выполнить п.2 и 7 необходим пароль от root**

После выполнения скрипта проект доступен по url `http://pay_task.local:90/`

При необходимости (например в случае конфликта портов) можно изменить порты в файле docker/.env, а также в файле env.php (если порт изменился для mysql)